<div class="table-card">
  <app-table-wrapper
    [headerTitle]="indexMeta.indexTitle"
    [titleIcon]="indexMeta.indexIcon"
    [headerBtnLabel]="indexMeta.createBtnLabel"
    [columns]="indexMeta.columns"
    [dataSource]="records()"
    [loading]="isLoading()"
    [totalRecords]="totalRecords()"
    [recordsFiltered]="recordsFiltered()"
    [indexPermissions]="true"
    [updateBtnPermissions]="true"
    [createBtnPermissions]="true"
    [deleteBtnPermissions]="true"
    [stateKey]="indexMeta.indexTableKey"
    (createBtnClicked)="openCreateRecordDialog()"
    (updateBtnClicked)="openUpdateRecordDialog($event)"
    (deleteBtnClicked)="confirmDelete($event)"
    (onLoadData)="loadRecords($event)"
  >
    <ng-template #extendDefaultActionsTemplate let-rowData>
      <button
        pButton
        type="button"
        [icon]="'fa-solid fa-eye text-xs'"
        class="text-primary"
        size="small"
        [text]="true"
        [rounded]="true"
        [pTooltip]="'view' | translate"
        tooltipPosition="top"
        (click)="openTemplateView(rowData)"
      ></button>
    </ng-template>
  </app-table-wrapper>
</div>
